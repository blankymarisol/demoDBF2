<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx"
            fx:controller="Controller.MainController"
            stylesheets="@theme.css">

    <!-- HEADER -->
    <top>
        <HBox styleClass="header" alignment="CENTER_LEFT">
            <padding>
                <Insets top="15" right="25" bottom="15" left="25"/>
            </padding>

            <VBox spacing="2">
                <Label text="Sistema de Gestión DevSolutionsF"
                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="●" fx:id="lblConexion" style="-fx-font-size: 16px;"/>
                    <Label fx:id="lblEstado" style="-fx-font-size: 12px; -fx-text-fill: #7F8C8D;"/>
                </HBox>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <HBox spacing="15" alignment="CENTER_RIGHT">
                <VBox alignment="CENTER_RIGHT" spacing="2">
                    <Label fx:id="lblUsuarioActual"
                           style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <Label fx:id="lblRolActual"
                           style="-fx-font-size: 12px;"/>
                </VBox>

                <Button fx:id="btnCerrarSesion"
                        text="Cerrar Sesión"
                        onAction="#cerrarSesion"
                        styleClass="btn-danger"/>
            </HBox>
        </HBox>
    </top>

    <!-- SIDEBAR -->
    <left>
        <VBox styleClass="sidebar" prefWidth="250" spacing="0">

            <!-- Logo -->
            <VBox alignment="CENTER" style="-fx-padding: 30 20;">
                <Label text="🏢" style="-fx-font-size: 48px;"/>
                <Label text="DevSolutionsF"
                       style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;"/>
            </VBox>

            <Separator style="-fx-background-color: rgba(255,255,255,0.2);"/>

            <Label text="MENÚ PRINCIPAL"
                   style="-fx-text-fill: #95A5A6; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 20 20 8 20;"/>

            <Button fx:id="btnProductos"
                    text="📦  Productos"
                    onAction="#abrirProductos"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnProveedores"
                    text="🏭  Proveedores"
                    onAction="#abrirProveedores"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnUsuarios"
                    text="👥  Usuarios"
                    onAction="#abrirUsuarios"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnInventarios"
                    text="📊  Inventarios"
                    onAction="#abrirInventarios"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnCompras"
                    text="🛒  Compras"
                    onAction="#abrirCompras"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnBodegas"
                    text="🏪  Bodegas"
                    onAction="#abrirBodegas"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Separator style="-fx-background-color: rgba(255,255,255,0.1); -fx-padding: 10 0;"/>

            <Label text="CATÁLOGOS"
                   style="-fx-text-fill: #95A5A6; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 15 20 8 20;"/>

            <Button fx:id="btnCategorias"
                    text="📂  Categorías"
                    onAction="#abrirCategorias"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnTipoProductos"
                    text="🏷️  Tipos de Producto"
                    onAction="#abrirTipoProductos"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

            <Button fx:id="btnUnidadMedidas"
                    text="📏  Unidades de Medida"
                    onAction="#abrirUnidadMedidas"
                    styleClass="menu-item"
                    maxWidth="Infinity"/>

        </VBox>
    </left>

    <!-- CONTENT AREA -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-padding: 25;">
            <!-- Vista de bienvenida -->
            <VBox alignment="CENTER" spacing="20">
                <ImageView fitWidth="150" fitHeight="150" preserveRatio="true">
                    <image>
                        <Image url="@images/kirby.png"/>
                    </image>
                </ImageView>
                <Label text="Bienvenido al Sistema de Gestión DevSolutionsF" styleClass="titulo-principal"/>
                <Label text="Selecciona una opción del menú para comenzar"
                       style="-fx-font-size: 14px; -fx-text-fill: #7F8C8D;"/>
            </VBox>
        </StackPane>
    </center>

</BorderPane>